Deploying Shareabouts on dotcloud.com
======================================

Preparation
=============

1. Get a dotcloud API key.
2. Install the dotcloud command line app.
3. Get a Facebook app ID and secret.


First Deployment
=================

From the root of your shareabouts source tree:

 dotcloud create $NAME

Now do your first deployment:

 dotcloud push -b nyc-cb7 $NAME .

 dotcloud var set $NAME FACEBOOK_APP_ID=<your facebook app id> \
   FACEBOOK_APP_SECRET=<your facebook app secret> \
   TWITTER_CONSUMER_KEY=<your twitter consumer key> \
   TWITTER_CONSUMER_SECRET=<your twitter consumer secret

 dotcloud run $NAME.www -- rake -f current/Rakefile db:create db:migrate db:seed
 dotcloud run $NAME.www -- current/script/populate_cb7

That should take care of everything.

Note that if you have local changes to your shareabouts code,
you must commit them before running ``dotcloud push``.

If the build finishes but you get errors from the server, ssh in (by
doing "dotcloud ssh $NAME") and check
/home/dotcloud/current/log/production.log

Pushing Updates
================

From the root of your shareabouts source tree:

 dotcloud push -b nyc-cb7 $NAME .
 dotcloud run $NAME.www -- rake -f current/Rakefile db:migrate

Caveats
=======

dotcloud doesn't have ogr2ogr installed so it's not possible currently
to upload shapefiles in projections other than 4326.

